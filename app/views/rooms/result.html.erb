<%# app/views/rooms/result.html.erb %>

<div
  class="container py-5 text-center"
  data-controller="result"
  data-result-room-id-value="<%= @room.id %>"
>
  <h1 class="mb-4">ゲーム結果</h1>

  <%# ▼▼▼ 変更箇所 ▼▼▼ %>
  <%# この "resultsWrapper" target の中身がAction Cableによってリアルタイムで更新される %>
  <div data-result-target="resultsWrapper">
    <%# ランキング表示部分をパーシャル（部分テンプレート）に分離して呼び出す %>
    <%= render 'rooms/results', ranked_results: @ranked_results %>
  </div>
  <%# ▲▲▲ 変更箇所 ▲▲▲ %>

  <div class="mt-4">
    <%= button_to "トップに戻る", authenticated_root_path, method: :get, class: 'game-btn' %>
  </div>
</div>